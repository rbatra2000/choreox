(this.webpackJsonpchoreox=this.webpackJsonpchoreox||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/audio.aab9cdd0.mp3"},156:function(e,t,a){e.exports=a(181)},161:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=(a(161),a(46)),l=a(19),s=a(226),u=a(217),m=a(215),d=a(221),p=a(216),f=a(224),y=a(218),g=a(223),b=a(78),h=a.n(b),v=a(136),E=a(213),x=a(214);function O(){return r.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(c.b,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var w=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function j(){var e=w();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(s.a,{className:e.avatar},r.a.createElement(h.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(p.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(c.b,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(y.a,{item:!0},r.a.createElement(c.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(g.a,{mt:8},r.a.createElement(O,null)))}var N=a(219);function R(){return r.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(N.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var k=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function C(){var e=k();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(s.a,{className:e.avatar},r.a.createElement(h.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(p.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Register"))),r.a.createElement(g.a,{mt:8},r.a.createElement(R,null)))}var S=a(28),T=a(92),I=a(12),F=a(11),A=a(107),P=a(108),M=a(81),V=a(135),D=a(134),W=a(222),_=a(225),q=a(220),z=a(128),Y=a(67).a.get("window").width,B=Y/8,L=a(32),X=a(109),H=a.n(X),J=function(e,t){switch(t.type){case"NEXT_FORMATION":return Object(L.a)(Object(L.a)({},e),{},{formNum:e.formNum+1});case"PREV_FORMATION":return Object(L.a)(Object(L.a)({},e),{},{formNum:e.formNum-1});case"RESET_FORMATION":return Object(L.a)(Object(L.a)({},e),{},{formNum:0});case"SET_FORMATION":return Object(L.a)(Object(L.a)({},e),{},{formNum:t.num});case"ADD_FORMATION":var a=H.a.cloneDeep(e.database[e.formNum]);return e.database.splice(e.formNum+1,0,a),e.starts.splice(e.formNum+1,0,t.time),Object(L.a)(Object(L.a)({},e),{},{formNum:e.formNum+1});default:return e}},G={formNum:0,database:[{dancers:{rohit:{x:-.5,y:2.5,color:"lightblue"},ritik:{x:.5,y:2.5,color:"pink"},maya:{x:0,y:2,color:"pink"}},duration:250},{dancers:{rohit:{x:-.5,y:.5,color:"lightblue"},ritik:{x:.5,y:.5,color:"pink"},maya:{x:0,y:0,color:"pink"}},duration:500},{dancers:{rohit:{x:0,y:1,color:"lightblue"},ritik:{x:0,y:.5,color:"pink"},maya:{x:0,y:1.5,color:"pink"}},duration:400},{dancers:{rohit:{x:.5,y:1.5,color:"lightblue"},ritik:{x:-.5,y:1.5,color:"pink"},maya:{x:0,y:1.5,color:"pink"}},duration:750}],starts:[0,5,8,10],error:null},U=Object(n.createContext)(G),$=function(e){var t=e.children,a=Object(n.useReducer)(J,G),o=Object(S.a)(a,2),i=o[0],c=o[1];return r.a.createElement(U.Provider,{value:[i,c]},t)},K=function(e){Object(V.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).changeLoc=e.handler,n.state={coordinates:"("+String(n.convert(e.x,"R"))+","+String(n.convert(e.y,"C"))+")",scale:new W.a.Value(1),pan:new W.a.ValueXY({x:0,y:0}),name:e.name,color:e.color},n.state.pan.x=new W.a.Value(e.x),n.state.pan.y=new W.a.Value(e.y),n.position={x:e.x,y:e.y},n.state.pan.addListener((function(e){return n.position=e})),n.coord={x:e.x,y:e.y},n.panResponder=_.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onPanResponderTerminationRequest:function(){return!0},onPanResponderGrant:function(e,t){n.state.pan.setOffset({x:n.position.x,y:n.position.y}),n.state.pan.setValue({x:0,y:0}),n.state.pan.extractOffset(),W.a.spring(n.state.scale,{toValue:1.5,friction:3}).start()},onPanResponderMove:function(e,t){n.coord.x<Y/-2||n.coord.x>Y/2||n.coord.y>500||n.coord.y<0?n.coord={x:parseInt(n.position.x),y:parseInt(n.position.y)}:n.updateText(),W.a.event([null,{dx:n.state.pan.x,dy:n.state.pan.y}])(e,t)},onPanResponderRelease:function(e,t){n.state.pan.flattenOffset(),W.a.spring(n.state.scale,{toValue:1,friction:4}).start(),(n.coord.x<Y/-2||n.coord.x>Y/2||n.coord.y>500||n.coord.y<0)&&(W.a.spring(n.state.pan,{toValue:{x:0,y:0},friction:4}).start(),n.coord={x:0,y:0},n.setState({coordinates:"("+String(n.coord.x)+","+String(n.coord.y)+")"})),n.changeLoc(n.context[0].formNum,n.state.name,parseFloat(n.convert(n.coord.x,"R")),parseFloat(n.convert(n.coord.y,"C")))}}),n.updateText=n.updateText.bind(Object(M.a)(n)),n}return Object(P.a)(a,[{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"changeColor",value:function(e){this.setState({color:e})}},{key:"move",value:function(e,t,a){this.coord={x:e*B,y:125*t},W.a.timing(this.state.pan,{toValue:{x:this.coord.x,y:this.coord.y},duration:a,easing:q.a.linear}).start(),this.setState({coordinates:"("+String(e)+","+String(t)+")"})}},{key:"convert",value:function(e,t){var a=125;return"R"===t&&(a=B),(.25*Math.round(e/a/.25)).toFixed(2)}},{key:"updateText",value:function(){this.coord={x:parseInt(this.position.x),y:parseInt(this.position.y)},this.setState({coordinates:"("+String(this.convert(this.coord.x,"R"))+","+String(this.convert(this.coord.y,"C"))})}},{key:"render",value:function(){return r.a.createElement(I.a,null,this.renderDraggable())}},{key:"renderDraggable",value:function(){var e=this.state,t=e.pan,a=e.scale,n=[t.x,t.y],o={transform:[{translateX:n[0]},{translateY:n[1]},{rotate:"0deg"},{scale:a}]};return r.a.createElement(I.a,{style:Q.draggy},r.a.createElement(W.a.View,Object.assign({},this.panResponder.panHandlers,{style:[o,Q.circle,{backgroundColor:this.state.color}]}),r.a.createElement(z.a,{style:Q.ballText},this.state.coordinates),r.a.createElement(z.a,null,this.state.name)))}}]),a}(n.Component);K.contextType=U;var Q=F.a.create({draggy:{alignItems:"center",justifyContent:"center",cursor:"move",userSelect:"none"},circle:{width:60,height:60,borderRadius:30,alignItems:"center",justifyContent:"center",zIndex:10,position:"absolute"},ballText:{fontSize:10}}),Z=K,ee=a(96),te=Object(n.forwardRef)((function(e,t){var a=Object(n.useContext)(U),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(i.database),s=Object(S.a)(l,2),u=s[0],m=s[1];Object(n.useImperativeHandle)(t,(function(){return{nextFormation:function(){i.formNum===u.length-1?c({type:"RESET_FORMATION"}):c({type:"NEXT_FORMATION"})},prevFormation:function(){0===i.formNum?c({type:"SET_FORMATION",num:u.length-1}):c({type:"PREV_FORMATION"})}}}));var d={};function p(e,t,a,n){var r=u;r[e].dancers[t].x=a,r[e].dancers[t].y=n,m(r)}Object(n.useEffect)((function(){for(var e in d){var t=u[i.formNum];d[e].move(t.dancers[e].x,t.dancers[e].y,t.duration),d[e].changeColor(t.dancers[e].color)}}),[i.formNum]);for(var f=[],y=function(){var e=Object(S.a)(b[g],2),t=e[0],a=e[1];f.push(r.a.createElement(Z,{handler:p,x:a.x*B,y:125*a.y,name:t,color:a.color,key:t,ref:function(e){return d[t]=e}}))},g=0,b=Object.entries(u[i.formNum].dancers);g<b.length;g++)y();return r.a.createElement(I.a,{style:ae.mainContainer},r.a.createElement(I.a,{style:ae.grid},r.a.createElement(ee.b,{id:"grid",flow:"row dense",columns:8,style:{position:"absolute",width:"100%",height:"100%"},gap:"3px"},function(e){for(var t=[],a=r.a.createElement(ee.a,{width:1,style:{backgroundColor:"lightgray",position:"relative"}}),n=0;n<32;n++)t.push(a);return t}()),r.a.createElement(I.a,null,f)))})),ae=F.a.create({mainContainer:{flex:1,alignItems:"center",justifyContent:"center"},grid:{width:"100%",height:"500px",borderColor:"black",alignItems:"center"}}),ne=te,re=a(61),oe=a(132),ie=a.n(oe),ce=a(133),le=a.n(ce),se=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(null),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useContext)(U),s=Object(S.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!0),p=Object(S.a)(d,2),f=p[0],y=p[1];Object(n.useImperativeHandle)(t,(function(){return{playAudio:function(){i.player.play()},pauseAudio:function(){i.player.pause()},dropPoint:function(){i.points.add({time:i.player.getCurrentTime(),labelText:"Test point",color:"black"}),m({type:"ADD_FORMATION",time:i.player.getCurrentTime()})}}}));function g(e){var t=function e(t,a,n,r){if(r-n<=1)return n;if(a>=t[r])return r;var o=Math.floor((n+r)/2);return t[o]>a?e(t,a,n,o):e(t,a,o,r)}(u.starts,e,0,u.starts.length-1);m({type:"SET_FORMATION",num:t})}Object(n.useEffect)((function(){b()}),[]),Object(n.useEffect)((function(){null!=i&&f&&(i.on("player.timeupdate",g),y(!1))}),[i,f]);var b=function(){for(var e=new(window.AudioContext||window.webkitAudioContext),t=[],a=0;a<u.starts.length;a++)t.push({time:u.starts[a],labelText:"Formation #"+a,color:"#FF0000"});var n={containers:{overview:document.getElementById("overview-container"),zoomview:document.getElementById("zoomview-container")},mediaElement:document.querySelector("audio"),webAudio:{audioContext:e},timeLabelPrecision:2,points:t};c(ie.a.init(n,(function(e,t){e&&console.error("Failed to initialize Peaks instance: "+e.message)})))};return r.a.createElement("div",null,r.a.createElement("div",{id:"peaks-container"},r.a.createElement("div",{id:"zoomview-container"}),r.a.createElement("div",{id:"overview-container"})),r.a.createElement("audio",null,r.a.createElement("source",{src:le.a})),u.starts.toString(),r.a.createElement("br",null),r.a.createElement("br",null))}));function ue(){var e=Object(T.a)(["\n    width: 100px;\n    margin: 10px;\n"]);return ue=function(){return e},e}function me(){var e=Object(T.a)(["\n  align-items: center;\n  text-align:center;\n  margin: 10px;\n  width: 100%;\n  flex: 1;\n  column-gap: 20px;\n  justify-content: space-between;\n"]);return me=function(){return e},e}var de=re.a.div(me()),pe=Object(re.a)(u.a)(ue()),fe=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useState)("Play"),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(0),s=Object(S.a)(l,2),u=s[0];s[1];return r.a.createElement("div",null,r.a.createElement(ne,{ref:e}),r.a.createElement(de,null,u,r.a.createElement("hr",null),r.a.createElement(pe,{variant:"contained",color:"secondary",onClick:function(){e.current.prevFormation()}},"Previous"),r.a.createElement(pe,{variant:"contained",color:"secondary",onClick:function(){e.current.nextFormation()}},"Next"),r.a.createElement(pe,{variant:"contained",color:"secondary",onClick:function(){"Play"===i?(c("Pause"),t.current.playAudio()):(c("Play"),t.current.pauseAudio())}},i),r.a.createElement(pe,{variant:"contained",color:"secondary",onClick:function(){t.current.dropPoint()}},"New")),r.a.createElement("div",{style:{textAlign:"center",margin:"10px",height:"450px"}},r.a.createElement(se,{ref:t})))};function ye(){return r.a.createElement(c.a,null,r.a.createElement($,null,r.a.createElement("nav",{style:{backgroundColor:"lightgray"}},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/drag"},"Formations")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/register"},"Register")))),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/register"},r.a.createElement(C,null)),r.a.createElement(l.a,{path:"/drag"},r.a.createElement(fe,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(j,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.9d96a3a9.chunk.js.map