(this.webpackJsonpchoreox=this.webpackJsonpchoreox||[]).push([[0],{142:function(e,t,a){e.exports=a.p+"static/media/audio.aab9cdd0.mp3"},167:function(e,t,a){e.exports=a(201)},172:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),c=(a(172),a(50)),l=a(21),s=a(244),u=a(236),m=a(234),d=a(239),p=a(235),f=a(242),h=a(237),y=a(241),g=a(87),b=a.n(g),E=a(145),v=a(232),x=a(233),w=a(231);function O(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var j=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function N(){var e=j();return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(s.a,{className:e.avatar},r.a.createElement(b.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(p.a,{control:r.a.createElement(f.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement(w.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(h.a,{item:!0},r.a.createElement(c.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(y.a,{mt:8},r.a.createElement(O,null)))}var S=a(29),C=a(68);function k(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"ChoreoX")," ",(new Date).getFullYear(),".")}C.apps.length||C.initializeApp({apiKey:"AIzaSyCP7f-0gM04PNKyg_61zNHrEcoGuv5csww",authDomain:"choreox.firebaseapp.com",databaseURL:"https://choreox.firebaseio.com",projectId:"choreox",storageBucket:"choreox.appspot.com",messagingSenderId:"282857958796",appId:"1:282857958796:web:a4823f4d0f62548ee9baa9",measurementId:"G-G85QRHSBW3"});var R=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function T(){var e=R(),t=Object(n.useState)("Log"),a=Object(S.a)(t,2),o=a[0],i=a[1];window.onload=function(){document.getElementById("form").addEventListener("submit",l)};function l(e){e.preventDefault();var t=p("firstName"),a=p("lastName");!function(e,t,a,n,r){if(r!=n)i("Passwords do not match!");else{var o="",c=t+" "+a;C.auth().createUserWithEmailAndPassword(e,n).then((function(){var e=C.auth().currentUser;e.updateProfile({displayName:c}).then((function(){C.firestore().collection("users").doc(e.uid).set({avatar:1}),i("SUCCESS!!!")})).catch((function(e){i(e)}))})).catch((function(e){console.log(e.code),o="auth/email-already-in-use"==e.code?"That email address is already in use!":"auth/invalid-email"==e.code?"That email address is invalid!":"auth/weak-password"==e.code?"Password must be 6 characters long!":"Something went wrong, please try again!",i(o)}))}}(p("email"),t,a,p("password"),p("confirmPassword"))}function p(e){return document.getElementById(e).value}return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(s.a,{className:e.avatar},r.a.createElement(b.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign up"),o,r.a.createElement("form",{className:e.form,noValidate:!0,id:"form"},r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:12,sm:6},r.a.createElement(d.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(h.a,{item:!0,xs:12,sm:6},r.a.createElement(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password"}))),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(h.a,{container:!0,justify:"flex-end"},r.a.createElement(h.a,{item:!0},r.a.createElement(c.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(y.a,{mt:5},r.a.createElement(k,null)))}var I=a(100),F=a(14),P=a(13),A=a(116),M=a(117),W=a(89),D=a(144),V=a(143),_=a(240),q=a(243),z=a(238),B=a(137),L=a(74).a.get("window").width,U=L/8,H=a(36),X=a(118),Y=a.n(X),G=function(e,t){switch(t.type){case"NEXT_FORMATION":return Object(H.a)(Object(H.a)({},e),{},{formNum:e.formNum+1});case"PREV_FORMATION":return Object(H.a)(Object(H.a)({},e),{},{formNum:e.formNum-1});case"RESET_FORMATION":return Object(H.a)(Object(H.a)({},e),{},{formNum:0});case"SET_FORMATION":return Object(H.a)(Object(H.a)({},e),{},{formNum:t.num});case"ADD_FORMATION":var a=Y.a.cloneDeep(e.database[e.formNum]);return e.database.splice(e.formNum+1,0,a),e.starts.splice(e.formNum+1,0,t.time),Object(H.a)(Object(H.a)({},e),{},{formNum:e.formNum+1});default:return e}},J={formNum:0,database:[{dancers:{rohit:{x:-.5,y:2.5,color:"lightblue"},ritik:{x:.5,y:2.5,color:"pink"},maya:{x:0,y:2,color:"pink"}},duration:250},{dancers:{rohit:{x:-.5,y:.5,color:"lightblue"},ritik:{x:.5,y:.5,color:"pink"},maya:{x:0,y:0,color:"pink"}},duration:500},{dancers:{rohit:{x:0,y:1,color:"lightblue"},ritik:{x:0,y:.5,color:"pink"},maya:{x:0,y:1.5,color:"pink"}},duration:400},{dancers:{rohit:{x:.5,y:1.5,color:"lightblue"},ritik:{x:-.5,y:1.5,color:"pink"},maya:{x:0,y:1.5,color:"pink"}},duration:750}],starts:[0,5,8,10],error:null},K=Object(n.createContext)(J),Q=function(e){var t=e.children,a=Object(n.useReducer)(G,J),o=Object(S.a)(a,2),i=o[0],c=o[1];return r.a.createElement(K.Provider,{value:[i,c]},t)},$=function(e){Object(D.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).changeLoc=e.handler,n.state={coordinates:"("+String(n.convert(e.x,"R"))+","+String(n.convert(e.y,"C"))+")",scale:new _.a.Value(1),pan:new _.a.ValueXY({x:0,y:0}),name:e.name,color:e.color},n.state.pan.x=new _.a.Value(e.x),n.state.pan.y=new _.a.Value(e.y),n.position={x:e.x,y:e.y},n.state.pan.addListener((function(e){return n.position=e})),n.coord={x:e.x,y:e.y},n.panResponder=q.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onPanResponderTerminationRequest:function(){return!0},onPanResponderGrant:function(e,t){n.state.pan.setOffset({x:n.position.x,y:n.position.y}),n.state.pan.setValue({x:0,y:0}),n.state.pan.extractOffset(),_.a.spring(n.state.scale,{toValue:1.5,friction:3}).start()},onPanResponderMove:function(e,t){n.coord.x<L/-2||n.coord.x>L/2||n.coord.y>500||n.coord.y<0?n.coord={x:parseInt(n.position.x),y:parseInt(n.position.y)}:n.updateText(),_.a.event([null,{dx:n.state.pan.x,dy:n.state.pan.y}])(e,t)},onPanResponderRelease:function(e,t){n.state.pan.flattenOffset(),_.a.spring(n.state.scale,{toValue:1,friction:4}).start(),(n.coord.x<L/-2||n.coord.x>L/2||n.coord.y>500||n.coord.y<0)&&(_.a.spring(n.state.pan,{toValue:{x:0,y:0},friction:4}).start(),n.coord={x:0,y:0},n.setState({coordinates:"("+String(n.coord.x)+","+String(n.coord.y)+")"})),n.changeLoc(n.context[0].formNum,n.state.name,parseFloat(n.convert(n.coord.x,"R")),parseFloat(n.convert(n.coord.y,"C")))}}),n.updateText=n.updateText.bind(Object(W.a)(n)),n}return Object(M.a)(a,[{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"changeColor",value:function(e){this.setState({color:e})}},{key:"move",value:function(e,t,a){this.coord={x:e*U,y:125*t},_.a.timing(this.state.pan,{toValue:{x:this.coord.x,y:this.coord.y},duration:a,easing:z.a.linear}).start(),this.setState({coordinates:"("+String(e)+","+String(t)+")"})}},{key:"convert",value:function(e,t){var a=125;return"R"===t&&(a=U),(.25*Math.round(e/a/.25)).toFixed(2)}},{key:"updateText",value:function(){this.coord={x:parseInt(this.position.x),y:parseInt(this.position.y)},this.setState({coordinates:"("+String(this.convert(this.coord.x,"R"))+","+String(this.convert(this.coord.y,"C"))})}},{key:"render",value:function(){return r.a.createElement(F.a,null,this.renderDraggable())}},{key:"renderDraggable",value:function(){var e=this.state,t=e.pan,a=e.scale,n=[t.x,t.y],o={transform:[{translateX:n[0]},{translateY:n[1]},{rotate:"0deg"},{scale:a}]};return r.a.createElement(F.a,{style:Z.draggy},r.a.createElement(_.a.View,Object.assign({},this.panResponder.panHandlers,{style:[o,Z.circle,{backgroundColor:this.state.color}]}),r.a.createElement(B.a,{style:Z.ballText},this.state.coordinates),r.a.createElement(B.a,null,this.state.name)))}}]),a}(n.Component);$.contextType=K;var Z=P.a.create({draggy:{alignItems:"center",justifyContent:"center",cursor:"move",userSelect:"none"},circle:{width:60,height:60,borderRadius:30,alignItems:"center",justifyContent:"center",zIndex:10,position:"absolute"},ballText:{fontSize:10}}),ee=$,te=a(104),ae=Object(n.forwardRef)((function(e,t){var a=Object(n.useContext)(K),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(i.database),s=Object(S.a)(l,2),u=s[0],m=s[1];Object(n.useImperativeHandle)(t,(function(){return{nextFormation:function(){i.formNum===u.length-1?c({type:"RESET_FORMATION"}):c({type:"NEXT_FORMATION"})},prevFormation:function(){0===i.formNum?c({type:"SET_FORMATION",num:u.length-1}):c({type:"PREV_FORMATION"})}}}));var d={};function p(e,t,a,n){var r=u;r[e].dancers[t].x=a,r[e].dancers[t].y=n,m(r)}Object(n.useEffect)((function(){for(var e in d){var t=u[i.formNum];d[e].move(t.dancers[e].x,t.dancers[e].y,t.duration),d[e].changeColor(t.dancers[e].color)}}),[i.formNum]);for(var f=[],h=function(){var e=Object(S.a)(g[y],2),t=e[0],a=e[1];f.push(r.a.createElement(ee,{handler:p,x:a.x*U,y:125*a.y,name:t,color:a.color,key:t,ref:function(e){return d[t]=e}}))},y=0,g=Object.entries(u[i.formNum].dancers);y<g.length;y++)h();return r.a.createElement(F.a,{style:ne.mainContainer},r.a.createElement(F.a,{style:ne.grid},r.a.createElement(te.b,{id:"grid",flow:"row dense",columns:8,style:{position:"absolute",width:"100%",height:"100%"},gap:"3px"},function(e){for(var t=[],a=r.a.createElement(te.a,{width:1,style:{backgroundColor:"lightgray",position:"relative"}}),n=0;n<32;n++)t.push(a);return t}()),r.a.createElement(F.a,null,f)))})),ne=P.a.create({mainContainer:{flex:1,alignItems:"center",justifyContent:"center"},grid:{width:"100%",height:"500px",borderColor:"black",alignItems:"center"}}),re=ae,oe=a(67),ie=a(141),ce=a.n(ie),le=a(142),se=a.n(le),ue=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(null),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useContext)(K),s=Object(S.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!0),p=Object(S.a)(d,2),f=p[0],h=p[1];Object(n.useImperativeHandle)(t,(function(){return{playAudio:function(){i.player.play()},pauseAudio:function(){i.player.pause()},dropPoint:function(){i.points.add({time:i.player.getCurrentTime(),labelText:"Test point",color:"black"}),m({type:"ADD_FORMATION",time:i.player.getCurrentTime()})}}}));function y(e){var t=function e(t,a,n,r){if(r-n<=1)return n;if(a>=t[r])return r;var o=Math.floor((n+r)/2);return t[o]>a?e(t,a,n,o):e(t,a,o,r)}(u.starts,e,0,u.starts.length-1);m({type:"SET_FORMATION",num:t})}Object(n.useEffect)((function(){g()}),[]),Object(n.useEffect)((function(){null!=i&&f&&(i.on("player.timeupdate",y),h(!1))}),[i,f]);var g=function(){for(var e=new(window.AudioContext||window.webkitAudioContext),t=[],a=0;a<u.starts.length;a++)t.push({time:u.starts[a],labelText:"Formation #"+a,color:"#FF0000"});var n={containers:{overview:document.getElementById("overview-container"),zoomview:document.getElementById("zoomview-container")},mediaElement:document.querySelector("audio"),webAudio:{audioContext:e},timeLabelPrecision:2,points:t};c(ce.a.init(n,(function(e,t){e&&console.error("Failed to initialize Peaks instance: "+e.message)})))};return r.a.createElement("div",null,r.a.createElement("div",{id:"peaks-container"},r.a.createElement("div",{id:"zoomview-container"}),r.a.createElement("div",{id:"overview-container"})),r.a.createElement("audio",null,r.a.createElement("source",{src:se.a})),u.starts.toString(),r.a.createElement("br",null),r.a.createElement("br",null))}));function me(){var e=Object(I.a)(["\n    width: 100px;\n    margin: 10px;\n"]);return me=function(){return e},e}function de(){var e=Object(I.a)(["\n  align-items: center;\n  text-align:center;\n  margin: 10px;\n  width: 100%;\n  flex: 1;\n  column-gap: 20px;\n  justify-content: space-between;\n"]);return de=function(){return e},e}var pe=oe.a.div(de()),fe=Object(oe.a)(u.a)(me()),he=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useState)("Play"),o=Object(S.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(0),s=Object(S.a)(l,2),u=s[0];s[1];return r.a.createElement("div",null,r.a.createElement(re,{ref:e}),r.a.createElement(pe,null,u,r.a.createElement("hr",null),r.a.createElement(fe,{variant:"contained",color:"secondary",onClick:function(){e.current.prevFormation()}},"Previous"),r.a.createElement(fe,{variant:"contained",color:"secondary",onClick:function(){e.current.nextFormation()}},"Next"),r.a.createElement(fe,{variant:"contained",color:"secondary",onClick:function(){"Play"===i?(c("Pause"),t.current.playAudio()):(c("Play"),t.current.pauseAudio())}},i),r.a.createElement(fe,{variant:"contained",color:"secondary",onClick:function(){t.current.dropPoint()}},"New")),r.a.createElement("div",{style:{textAlign:"center",margin:"10px",height:"450px"}},r.a.createElement(ue,{ref:t})))};function ye(){return r.a.createElement(c.a,null,r.a.createElement(Q,null,r.a.createElement("nav",{style:{backgroundColor:"lightgray"}},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Formations")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/register"},"Register")))),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/register"},r.a.createElement(T,null)),r.a.createElement(l.a,{path:"/login"},r.a.createElement(N,null)),r.a.createElement(l.a,{path:"/"},r.a.createElement(he,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[167,1,2]]]);
//# sourceMappingURL=main.d8fd21bc.chunk.js.map